<!DOCTYPE HTML><html><head><style type="text/css">h1,h2,h3 {color:sienna;} table { border-collapse:collapse; } td, th { border:1px solid sienna; padding:4px; font-weight:normal; text-align:left} th { color:sienna; }</style><title>ICAT Schema</title><link rel="icon" href="http://www.icatproject.org/favicon.ico"/></head><body><h1>ICAT Schema</h1><p style="max-width:50em;"><a href = "#Application">Application</a>, <a href = "#Datafile">Datafile</a>, <a href = "#DatafileFormat">DatafileFormat</a>, <a href = "#DatafileParameter">DatafileParameter</a>, <a href = "#Dataset">Dataset</a>, <a href = "#DatasetParameter">DatasetParameter</a>, <a href = "#DatasetStatus">DatasetStatus</a>, <a href = "#DatasetType">DatasetType</a>, <a href = "#Facility">Facility</a>, <a href = "#FacilityCycle">FacilityCycle</a>, <a href = "#Group">Group</a>, <a href = "#InputDatafile">InputDatafile</a>, <a href = "#InputDataset">InputDataset</a>, <a href = "#Instrument">Instrument</a>, <a href = "#InstrumentUser">InstrumentUser</a>, <a href = "#Investigation">Investigation</a>, <a href = "#InvestigationParameter">InvestigationParameter</a>, <a href = "#InvestigationType">InvestigationType</a>, <a href = "#InvestigationUser">InvestigationUser</a>, <a href = "#Job">Job</a>, <a href = "#Keyword">Keyword</a>, <a href = "#NotificationRequest">NotificationRequest</a>, <a href = "#OutputDatafile">OutputDatafile</a>, <a href = "#OutputDataset">OutputDataset</a>, <a href = "#ParameterType">ParameterType</a>, <a href = "#Publication">Publication</a>, <a href = "#RelatedDatafile">RelatedDatafile</a>, <a href = "#Rule">Rule</a>, <a href = "#Sample">Sample</a>, <a href = "#SampleParameter">SampleParameter</a>, <a href = "#Shift">Shift</a>, <a href = "#Study">Study</a>, <a href = "#StudyInvestigation">StudyInvestigation</a>, <a href = "#StudyStatus">StudyStatus</a>, <a href = "#Topic">Topic</a>, <a href = "#TopicInvestigation">TopicInvestigation</a>, <a href = "#User">User</a>, <a href = "#UserGroup">UserGroup</a></p><hr/><h2 id="Application">Application</h2><p>Some piece of software</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> name, version</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#Job">Job</a></td><td>jobs</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>version</td><td>String [255]</td><td></td></tr>
<tr><td>name</td><td>String [255]</td><td>A short name for the software - e.g. mantid</td></tr>
</table>
<hr/><h2 id="Datafile">Datafile</h2><p>A data file</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> name, location, dataset</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#DatafileParameter">DatafileParameter</a></td><td>datafileParameters</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#InputDatafile">InputDatafile</a></td><td>inputDatafiles</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#RelatedDatafile">RelatedDatafile</a></td><td>sourceDatafiles</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#RelatedDatafile">RelatedDatafile</a></td><td>destDatafiles</td><td>Yes</td><td></td></tr>
<tr><td> 0,1</td><td><a href = "#DatafileFormat">DatafileFormat</a></td><td>datafileFormat</td><td></td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#OutputDatafile">OutputDatafile</a></td><td>outputDatafiles</td><td>Yes</td><td></td></tr>
<tr><td> 0,1</td><td><a href = "#Dataset">Dataset</a></td><td>dataset</td><td></td><td>The dataset which holds this file</td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>version</td><td>String [255]</td><td>**** Do we want this - it is not part of the constraint</td></tr>
<tr><td>checksum</td><td>String [255]</td><td>**** Nobody would search for a file with this field</td></tr>
<tr><td>location</td><td>String [255]</td><td>**** Do we want this - it is not part of the constraint</td></tr>
<tr><td>datafileCreateTime</td><td>Date</td><td>**** Do we want this</td></tr>
<tr><td>datafileModifyTime</td><td>Date</td><td>**** Do we want this</td></tr>
<tr><td>signature</td><td>String [255]</td><td>**** Nobody would search for a file with this field</td></tr>
<tr><td>command</td><td>String [255]</td><td>**** Do we want this</td></tr>
<tr><td>description</td><td>String [255]</td><td>A full description of the file contents</td></tr>
<tr><td>name</td><td>String [255] NOT NULL</td><td>A name given to the file</td></tr>
<tr><td>fileSize</td><td>Long</td><td>Expressed in bytes</td></tr>
<tr><td>versionComment</td><td>String [255]</td><td>**** Do we want this - it is not part of the constraint</td></tr>
</table>
<hr/><h2 id="DatafileFormat">DatafileFormat</h2><p>A data file format</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> name, version</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#Datafile">Datafile</a></td><td>datafiles</td><td></td><td>Files with this format</td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>version</td><td>String [255] NOT NULL</td><td>The version if needed.  The version code may be part of the basic name</td></tr>
<tr><td>type</td><td>String [255]</td><td>Holds the underlying format - such as binary or text</td></tr>
<tr><td>description</td><td>String [255]</td><td>An informal description of the format</td></tr>
<tr><td>name</td><td>String [255] NOT NULL</td><td>A short name identifying the format -e.g. "mp3"</td></tr>
</table>
<hr/><h2 id="DatafileParameter">DatafileParameter</h2><p>A parameter associated with a data file</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> datafile, type</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#ParameterType">ParameterType</a></td><td>type</td><td></td><td>The type of the parameter</td></tr>
<tr><td> 1,1</td><td><a href = "#Datafile">Datafile</a></td><td>datafile</td><td></td><td>The associated data file</td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>description</td><td>String [255]</td><td>**** Do we need this - surely this is part of the parameter type</td></tr>
<tr><td>error</td><td>String [255]</td><td>**** Do we need this - a string gives a lot of opportunity to get ot wrong</td></tr>
<tr><td>rangeBottom</td><td>String [255]</td><td>**** Do we need this</td></tr>
<tr><td>rangeTop</td><td>String [255]</td><td>**** Do we need this</td></tr>
<tr><td>numericValue</td><td>Double</td><td>The value if the parameter is numeric</td></tr>
<tr><td>dateTimeValue</td><td>Date</td><td>The value if the parameter is a date</td></tr>
<tr><td>stringValue</td><td>String [255]</td><td>The value if the parameter is a string</td></tr>
</table>
<hr/><h2 id="Dataset">Dataset</h2><p>A collection of data files and part of an investigation</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> sample, investigation, name, type</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,1</td><td><a href = "#Sample">Sample</a></td><td>sample</td><td></td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#DatasetParameter">DatasetParameter</a></td><td>datasetParameters</td><td>Yes</td><td></td></tr>
<tr><td> 0,1</td><td><a href = "#Investigation">Investigation</a></td><td>investigation</td><td></td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#InputDataset">InputDataset</a></td><td>inputDatasets</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#OutputDataset">OutputDataset</a></td><td>outputDatasets</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#Datafile">Datafile</a></td><td>datafiles</td><td>Yes</td><td>The data files within the dataset</td></tr>
<tr><td> 1,1</td><td><a href = "#DatasetType">DatasetType</a></td><td>type</td><td></td><td></td></tr>
<tr><td> 0,1</td><td><a href = "#DatasetStatus">DatasetStatus</a></td><td>status</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>name</td><td>String [255] NOT NULL</td><td>A short name for the data set</td></tr>
<tr><td>description</td><td>String [255]</td><td>An informal description of the data set</td></tr>
<tr><td>startDate</td><td>Date</td><td></td></tr>
<tr><td>location</td><td>String [255]</td><td>Identifies a location from which all the files of the data set might be accessed. It might be a directory</td></tr>
<tr><td>endDate</td><td>Date</td><td></td></tr>
</table>
<hr/><h2 id="DatasetParameter">DatasetParameter</h2><p>A parameter associated with a data set</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> dataset, type</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#Dataset">Dataset</a></td><td>dataset</td><td></td><td>The associated data set</td></tr>
<tr><td> 1,1</td><td><a href = "#ParameterType">ParameterType</a></td><td>type</td><td></td><td>The type of the parameter</td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>description</td><td>String [255]</td><td>**** Do we need this - surely this is part of the parameter type</td></tr>
<tr><td>error</td><td>String [255]</td><td>**** Do we need this - a string gives a lot of opportunity to get ot wrong</td></tr>
<tr><td>rangeBottom</td><td>String [255]</td><td>**** Do we need this</td></tr>
<tr><td>rangeTop</td><td>String [255]</td><td>**** Do we need this</td></tr>
<tr><td>numericValue</td><td>Double</td><td>The value if the parameter is numeric</td></tr>
<tr><td>dateTimeValue</td><td>Date</td><td>The value if the parameter is a date</td></tr>
<tr><td>stringValue</td><td>String [255]</td><td>The value if the parameter is a string</td></tr>
</table>
<hr/><h2 id="DatasetStatus">DatasetStatus</h2><p>The status of a data set</p>
<p><b>Key</b> name: A short name identifying this status type</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#Dataset">Dataset</a></td><td>datasets</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>description</td><td>String [255]</td><td>A description of this status type</td></tr>
</table>
<hr/><h2 id="DatasetType">DatasetType</h2><p>A type of data set</p>
<p><b>Key</b> name: A short name identifying this data set type</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#Dataset">Dataset</a></td><td>datasets</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>description</td><td>String [255]</td><td>A description of this data set type</td></tr>
</table>
<hr/><h2 id="Facility">Facility</h2><p>An experimental facility</p>
<p><b>Key</b> name: A short name identifying this facility</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#Investigation">Investigation</a></td><td>investigations</td><td>Yes</td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>url</td><td>String [255]</td><td>A URL associated with this facility</td></tr>
<tr><td>daysUntilRelease</td><td>Integer NOT NULL</td><td>The number of days before data is made freely available after collecting it.</td></tr>
<tr><td>fullName</td><td>String [255]</td><td>The full name of the facility</td></tr>
<tr><td>description</td><td>String [255]</td><td>A description of this facility</td></tr>
</table>
<hr/><h2 id="FacilityCycle">FacilityCycle</h2><p>An operating cycle within a facility</p>
<p><b>Key</b> name: A short name identifying this facility cycle</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#Investigation">Investigation</a></td><td>investigations</td><td>Yes</td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>startDate</td><td>Date</td><td>Start of cycle</td></tr>
<tr><td>description</td><td>String [255]</td><td>A description of this facility cycle</td></tr>
<tr><td>endDate</td><td>Date</td><td>End of cycle</td></tr>
</table>
<hr/><h2 id="Group">Group</h2><p>A group of users</p>
<p><b>Key</b> name: A short name identifying this group of users</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#UserGroup">UserGroup</a></td><td>userGroups</td><td></td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#Rule">Rule</a></td><td>rules</td><td></td><td></td></tr>
</table>
<hr/><h2 id="InputDatafile">InputDatafile</h2><p>Many to many relationship between data file as input and a job</p>
<p><b>Key</b> id auto generated</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,1</td><td><a href = "#Datafile">Datafile</a></td><td>datafile</td><td></td><td></td></tr>
<tr><td> 0,1</td><td><a href = "#Job">Job</a></td><td>job</td><td></td><td></td></tr>
</table>
<hr/><h2 id="InputDataset">InputDataset</h2><p>Many to many relationship between data set as input and a job</p>
<p><b>Key</b> id auto generated</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,1</td><td><a href = "#Dataset">Dataset</a></td><td>dataset</td><td></td><td></td></tr>
<tr><td> 0,1</td><td><a href = "#Job">Job</a></td><td>job</td><td></td><td></td></tr>
</table>
<hr/><h2 id="Instrument">Instrument</h2><p>Used by a user within an investigation</p>
<p><b>Key</b> name: A short name identifying this instrument</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#InstrumentUser">InstrumentUser</a></td><td>instrumentUsers</td><td></td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#Investigation">Investigation</a></td><td>investigations</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>description</td><td>String [255]</td><td>A description of this instrument</td></tr>
<tr><td>fullName</td><td>String [255]</td><td>The formal name of this instrument</td></tr>
<tr><td>type</td><td>String [255]</td><td></td></tr>
</table>
<hr/><h2 id="InstrumentUser">InstrumentUser</h2><p>Relationship between an instrument and a user</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> user, instrument</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#Instrument">Instrument</a></td><td>instrument</td><td></td><td></td></tr>
<tr><td> 1,1</td><td><a href = "#User">User</a></td><td>user</td><td></td><td></td></tr>
</table>
<hr/><h2 id="Investigation">Investigation</h2><p>An investigation or experiment</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> name, visitId, facilityCycle, instrument</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,1</td><td><a href = "#FacilityCycle">FacilityCycle</a></td><td>facilityCycle</td><td></td><td></td></tr>
<tr><td> 1,1</td><td><a href = "#Facility">Facility</a></td><td>facility</td><td></td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#InvestigationParameter">InvestigationParameter</a></td><td>investigationParameters</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#Keyword">Keyword</a></td><td>keywords</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#Sample">Sample</a></td><td>samples</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#StudyInvestigation">StudyInvestigation</a></td><td>studyInvestigations</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#TopicInvestigation">TopicInvestigation</a></td><td>topicInvestigations</td><td>Yes</td><td></td></tr>
<tr><td> 0,1</td><td><a href = "#Instrument">Instrument</a></td><td>instrument</td><td></td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#InvestigationUser">InvestigationUser</a></td><td>investigationUsers</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#Publication">Publication</a></td><td>publications</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#Shift">Shift</a></td><td>shifts</td><td>Yes</td><td></td></tr>
<tr><td> 1,1</td><td><a href = "#InvestigationType">InvestigationType</a></td><td>type</td><td></td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#Dataset">Dataset</a></td><td>datasets</td><td>Yes</td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>releaseDate</td><td>Date</td><td>When the data will be made freely available</td></tr>
<tr><td>title</td><td>String [255] NOT NULL</td><td>Full title of the investigation</td></tr>
<tr><td>name</td><td>String [255] NOT NULL</td><td>A short name for the investigation</td></tr>
<tr><td>visitId</td><td>String [255]</td><td>Identifier for the visit to which this investigation is related</td></tr>
<tr><td>endDate</td><td>Date</td><td></td></tr>
<tr><td>startDate</td><td>Date</td><td></td></tr>
<tr><td>summary</td><td>String [4000]</td><td>Summary or abstract</td></tr>
</table>
<hr/><h2 id="InvestigationParameter">InvestigationParameter</h2><p>A parameter associated with an investigation</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> investigation, type</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#Investigation">Investigation</a></td><td>investigation</td><td></td><td>The associated investigation</td></tr>
<tr><td> 1,1</td><td><a href = "#ParameterType">ParameterType</a></td><td>type</td><td></td><td>The type of the parameter</td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>description</td><td>String [255]</td><td>**** Do we need this - surely this is part of the parameter type</td></tr>
<tr><td>error</td><td>String [255]</td><td>**** Do we need this - a string gives a lot of opportunity to get ot wrong</td></tr>
<tr><td>rangeBottom</td><td>String [255]</td><td>**** Do we need this</td></tr>
<tr><td>rangeTop</td><td>String [255]</td><td>**** Do we need this</td></tr>
<tr><td>numericValue</td><td>Double</td><td>The value if the parameter is numeric</td></tr>
<tr><td>dateTimeValue</td><td>Date</td><td>The value if the parameter is a date</td></tr>
<tr><td>stringValue</td><td>String [255]</td><td>The value if the parameter is a string</td></tr>
</table>
<hr/><h2 id="InvestigationType">InvestigationType</h2><p>A type of investigation</p>
<p><b>Key</b> name: A short name identifying this type of investigation</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#Investigation">Investigation</a></td><td>investigations</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>description</td><td>String [255]</td><td>A description of this type of investigation</td></tr>
</table>
<hr/><h2 id="InvestigationUser">InvestigationUser</h2><p>Many to many relationship between investigation and user</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> user, investigation</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,1</td><td><a href = "#Investigation">Investigation</a></td><td>investigation</td><td></td><td></td></tr>
<tr><td> 0,1</td><td><a href = "#User">User</a></td><td>user</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>role</td><td>String [255]</td><td></td></tr>
</table>
<hr/><h2 id="Job">Job</h2><p>A run of an application with its related inputs and outputs</p>
<p><b>Key</b> id auto generated</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#InputDatafile">InputDatafile</a></td><td>inputDatafiles</td><td>Yes</td><td></td></tr>
<tr><td> 1,1</td><td><a href = "#Application">Application</a></td><td>application</td><td></td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#InputDataset">InputDataset</a></td><td>inputDatasets</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#OutputDatafile">OutputDatafile</a></td><td>outputDatafiles</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#OutputDataset">OutputDataset</a></td><td>outputDatasets</td><td>Yes</td><td></td></tr>
</table>
<hr/><h2 id="Keyword">Keyword</h2><p>Must be related to an investigation</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> name, investigation</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#Investigation">Investigation</a></td><td>investigation</td><td></td><td>The investigation to whioch this keyword applies</td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>name</td><td>String [255] NOT NULL</td><td>The name of the keyword</td></tr>
</table>
<hr/><h2 id="NotificationRequest">NotificationRequest</h2><p>Registers a request for a JMS notification to be sent out</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> name</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>datatypes</td><td>String [255]</td><td></td></tr>
<tr><td>crudFlags</td><td>String [4] NOT NULL</td><td>Contains letters from the set "CRUD"</td></tr>
<tr><td>destType</td><td>DestType NOT NULL</td><td>An enum which may be PUBSUB or P2P</td></tr>
<tr><td>what</td><td>String [255] NOT NULL</td><td>When to send notifications</td></tr>
<tr><td>jmsOptions</td><td>String [255]</td><td></td></tr>
<tr><td>name</td><td>String [255] NOT NULL</td><td>A unique name for the notification request. It is not the key so it can be updated.</td></tr>
</table>
<hr/><h2 id="OutputDatafile">OutputDatafile</h2><p>Many to many relationship between data file as output and a job</p>
<p><b>Key</b> id auto generated</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,1</td><td><a href = "#Job">Job</a></td><td>job</td><td></td><td></td></tr>
<tr><td> 0,1</td><td><a href = "#Datafile">Datafile</a></td><td>datafile</td><td></td><td></td></tr>
</table>
<hr/><h2 id="OutputDataset">OutputDataset</h2><p>Many to many relationship between data set as output and a job</p>
<p><b>Key</b> id auto generated</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,1</td><td><a href = "#Job">Job</a></td><td>job</td><td></td><td></td></tr>
<tr><td> 0,1</td><td><a href = "#Dataset">Dataset</a></td><td>dataset</td><td></td><td></td></tr>
</table>
<hr/><h2 id="ParameterType">ParameterType</h2><p>A parameter type with unique name and units</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> name, units</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#SampleParameter">SampleParameter</a></td><td>sampleParameters</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#DatasetParameter">DatasetParameter</a></td><td>datasetParameters</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#InvestigationParameter">InvestigationParameter</a></td><td>investigationParameters</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#DatafileParameter">DatafileParameter</a></td><td>datafileParameters</td><td>Yes</td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>units</td><td>String [255] NOT NULL</td><td>The  name of the parameter type units</td></tr>
<tr><td>unitsFullName</td><td>String [255]</td><td>The formal name of the parameter type units</td></tr>
<tr><td>applicableToDatafile</td><td>boolean</td><td>If a parameter of this type may be applied to a data file</td></tr>
<tr><td>valueType</td><td>ParameterValueType NOT NULL</td><td>enum with possible values: NUMERIC, STRING, DATE_AND_TIME</td></tr>
<tr><td>description</td><td>String [255]</td><td>Description of the parameter type</td></tr>
<tr><td>verified</td><td>boolean</td><td>If ordinary users are allowed to create their own parameter types this indicates that this one has been approved</td></tr>
<tr><td>name</td><td>String [255] NOT NULL</td><td>The name of the parameter type</td></tr>
<tr><td>applicableToDataset</td><td>boolean</td><td>If a parameter of this type may be applied to a data set</td></tr>
<tr><td>applicableToSample</td><td>boolean</td><td>If a parameter of this type may be applied to a sample</td></tr>
<tr><td>applicableToInvestigation</td><td>boolean</td><td>If a parameter of this type may be applied to an investigation</td></tr>
</table>
<hr/><h2 id="Publication">Publication</h2><p>A publication</p>
<p><b>Key</b> id auto generated</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#Investigation">Investigation</a></td><td>investigation</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>repository</td><td>String [255]</td><td>The name of a repository where the publication is held</td></tr>
<tr><td>url</td><td>String [255]</td><td>A URL from which the publication may be downloaded</td></tr>
<tr><td>fullReference</td><td>String [255] NOT NULL</td><td>A reference in the form to be used for citation</td></tr>
<tr><td>repositoryId</td><td>String [255]</td><td>The id of the publication within the repository</td></tr>
</table>
<hr/><h2 id="RelatedDatafile">RelatedDatafile</h2><p>Used to represent an arbitrary relationship between data files</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> sourceDatafile, destDatafile</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#Datafile">Datafile</a></td><td>destDatafile</td><td></td><td></td></tr>
<tr><td> 1,1</td><td><a href = "#Datafile">Datafile</a></td><td>sourceDatafile</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>relation</td><td>String [255] NOT NULL</td><td>Identifies the type of relationship between the two datafiles - e.g. "COPY"</td></tr>
</table>
<hr/><h2 id="Rule">Rule</h2><p>An authorization rule</p>
<p><b>Key</b> id auto generated</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,1</td><td><a href = "#Group">Group</a></td><td>group</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>crudFlags</td><td>String [4] NOT NULL</td><td>Contains letters from the set "CRUD"</td></tr>
<tr><td>what</td><td>String [255]</td><td>To what the rules applies</td></tr>
</table>
<hr/><h2 id="Sample">Sample</h2><p>**** Maybe we need a sample type as well. An individual sample to be used in an investigation</p>
<p><b>Key</b> id auto generated</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#Investigation">Investigation</a></td><td>investigation</td><td></td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#SampleParameter">SampleParameter</a></td><td>sampleParameters</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#Dataset">Dataset</a></td><td>datasets</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>proposalSampleId</td><td>Integer</td><td>**** I would like to get rid of this</td></tr>
<tr><td>safetyInformation</td><td>String [4000] NOT NULL</td><td>Any safety information related to this sample</td></tr>
<tr><td>name</td><td>String [255] NOT NULL</td><td></td></tr>
<tr><td>instance</td><td>String [255]</td><td>To distinguish between different instances of the same material</td></tr>
<tr><td>molecularFormula</td><td>String [255]</td><td>The formula written as a string -e.g. C2H6O2 for ethylene glycol</td></tr>
</table>
<hr/><h2 id="SampleParameter">SampleParameter</h2><p>A parameter associated with a sample</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> sample, type</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#Sample">Sample</a></td><td>sample</td><td></td><td>The associated sample</td></tr>
<tr><td> 1,1</td><td><a href = "#ParameterType">ParameterType</a></td><td>type</td><td></td><td>The type of the parameter</td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>description</td><td>String [255]</td><td>**** Do we need this - surely this is part of the parameter type</td></tr>
<tr><td>error</td><td>String [255]</td><td>**** Do we need this - a string gives a lot of opportunity to get ot wrong</td></tr>
<tr><td>rangeBottom</td><td>String [255]</td><td>**** Do we need this</td></tr>
<tr><td>rangeTop</td><td>String [255]</td><td>**** Do we need this</td></tr>
<tr><td>numericValue</td><td>Double</td><td>The value if the parameter is numeric</td></tr>
<tr><td>dateTimeValue</td><td>Date</td><td>The value if the parameter is a date</td></tr>
<tr><td>stringValue</td><td>String [255]</td><td>The value if the parameter is a string</td></tr>
</table>
<hr/><h2 id="Shift">Shift</h2><p>A period of time related to an investigation</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> investigation, startDate, endDate</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#Investigation">Investigation</a></td><td>investigation</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>startDate</td><td>Date NOT NULL</td><td></td></tr>
<tr><td>comment</td><td>String [255]</td><td></td></tr>
<tr><td>endDate</td><td>Date NOT NULL</td><td></td></tr>
</table>
<hr/><h2 id="Study">Study</h2><p>A study which may be related to an investigation</p>
<p><b>Key</b> id auto generated</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,1</td><td><a href = "#StudyStatus">StudyStatus</a></td><td>status</td><td></td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#StudyInvestigation">StudyInvestigation</a></td><td>studyInvestigations</td><td>Yes</td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>startDate</td><td>Date</td><td></td></tr>
<tr><td>manager</td><td>Long</td><td>**** What is this and do we need it. Perhaps we need a StudyParameter</td></tr>
<tr><td>relatedMaterial</td><td>String [255]</td><td>**** This is very vague. Perhaps we need a StudyParameter</td></tr>
<tr><td>description</td><td>String [255]</td><td>A description of the study and its purpose</td></tr>
<tr><td>name</td><td>String [255] NOT NULL</td><td>The name of the study</td></tr>
</table>
<hr/><h2 id="StudyInvestigation">StudyInvestigation</h2><p>Many to many relationship between study and investigation</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> study, investigation</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#Study">Study</a></td><td>study</td><td></td><td></td></tr>
<tr><td> 1,1</td><td><a href = "#Investigation">Investigation</a></td><td>investigation</td><td></td><td></td></tr>
</table>
<hr/><h2 id="StudyStatus">StudyStatus</h2><p>**** Do we really want this?</p>
<p><b>Key</b> name</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#Study">Study</a></td><td>studies</td><td></td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>description</td><td>String [255] NOT NULL</td><td></td></tr>
</table>
<hr/><h2 id="Topic">Topic</h2><p>***** What does a topic bring that a study does not have?</p>
<p><b>Key</b> id auto generated</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#TopicInvestigation">TopicInvestigation</a></td><td>topicInvestigations</td><td>Yes</td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>name</td><td>String [255]</td><td></td></tr>
</table>
<hr/><h2 id="TopicInvestigation">TopicInvestigation</h2><p>Many to many relationship between a topic and an investigation</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> topic, investigation</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 1,1</td><td><a href = "#Investigation">Investigation</a></td><td>investigation</td><td></td><td></td></tr>
<tr><td> 1,1</td><td><a href = "#Topic">Topic</a></td><td>topic</td><td></td><td></td></tr>
</table>
<hr/><h2 id="User">User</h2><p>A user of the facility</p>
<p><b>Key</b> name: The name of the user to match that provided by the authentication mechanism</p><h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,*</td><td><a href = "#InstrumentUser">InstrumentUser</a></td><td>instrumentUsers</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#UserGroup">UserGroup</a></td><td>userGroups</td><td>Yes</td><td></td></tr>
<tr><td> 0,*</td><td><a href = "#InvestigationUser">InvestigationUser</a></td><td>investigationUsers</td><td>Yes</td><td></td></tr>
</table>
<h3>Other fields</h3>
<table><tr><th>Field</th><th>Type</th><th>Description</th></tr>
<tr><td>fullName</td><td>String [255]</td><td>May include title</td></tr>
</table>
<hr/><h2 id="UserGroup">UserGroup</h2><p>Many to many relationship between user and group</p>
<p><b>Key</b> id auto generated</p><p><b>Constraint</b> user, group</p>
<h3>Relationships</h3><table><tr><th>Card</th><th>Class</th><th>Field</th><th>Cascaded</th><th>Description</th></tr>
<tr><td> 0,1</td><td><a href = "#Group">Group</a></td><td>group</td><td></td><td></td></tr>
<tr><td> 0,1</td><td><a href = "#User">User</a></td><td>user</td><td></td><td></td></tr>
</table>
</body></html>