#summary Dealing with firewalls.

= Dealing with the use of firewalls with ICAT =

== Client applications ==

If you have a client application executing behind a web cache and accessing a remote ICAT, you may have to use a command such as the following:

{{{
java -Dhttp.proxyHost=mywebcache.mydomain -Dhttp.proxyPort=8080 -cp icat-client.jar myClass
}}}

== Glassfish ==

If the Glassfish is behind firewall and a web cache, and the ICAT is remote, it may be necessary to add settings to your glassfish distribution. This can be achieved using asadmin with the following commands: 

{{{
asadmin create-jvm-options "-Dhttp.proxyHost=myproxy.mydomain"
}}}

{{{
asadmin create-jvm-options "-Dhttp.proxyPort=myproxy.port"
}}}

Then restart glassfish.

== Rerouting ports ==
It may be necessary to have an icat application on another port as well as its existing port, for example a topcat on port 443 as well as on 8181. This can be achieved through port forwarding on the iptables. The command run as root, is shown in the following example:

{{{
iptables -t nat -A PREROUTING -p tcp --dport 443 -j REDIRECT --to-ports 8181
}}}