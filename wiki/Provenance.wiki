#summary Some thoughts on provenance

= Introduction =

The current tables are not adequate for describing provenance as they only allow dependencies between datafiles to be described. I would like a model that describes a datafiles and/or datasets being produced by running an application on datasets and/or datafiles.  

I propose a new Job entity (to replace the existing related datafiles) with the following attributes:

{{{
Long id;    // Primary key - auto generated
Set<Datafile> inputDatafile;  // ManyToMany relationship
Set<Dataset> inputDataset;    // ManyToMany relationship
Set<Datafile> outputDatafile; // ManyToMany relationship
Set<Dataset> outputDataset;   // ManyToMany relationship
Application application;
}}}

In addition I would change the first field of application to be simply "id" and add a "String version" attribute.

Notes:

 * This proposal may give some problems with the search/authz API as it relates two entities of the same type. I will seek a solution.